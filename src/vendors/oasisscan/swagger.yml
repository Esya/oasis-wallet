swagger: '2.0'
info:
  title: Oasisscan API
  version: "1"
paths:
  '/chain/account/info/{account_id}':
    get:
      operationId: getAccount
      produces:
        - application/json
      parameters:
        - in: path
          name: account_id
          required: true
          type: string
      responses:
        '200':
          description: Query compatibility endpoint for account
          schema:
            type: object
            required: ["code", "data"]
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/AccountsRow'
      tags:
        - Accounts
  '/validator/list':
    get:
      operationId: getValidatorsList
      produces:
        - application/json
      parameters:
        - in: query
          name: pageSize
          type: integer
      responses:
        '200':
          description: Query compatibility endpoint for validators
          schema:
            type: object
            required: ["code", "data"]
            properties:
              code:
                type: integer
              data:
                type: object
                required: ["active", "delegators", "inactive", "list"]
                properties:
                  active:
                    type: integer
                  delegators:
                    type: integer
                  inactive:
                    type: integer
                  list:
                    type: array
                    items:
                      $ref: '#/definitions/ValidatorRow'
      tags:
        - Accounts
  '/chain/transactions':
    get:
      operationId: getTransactionsList
      produces:
        - application/json
      parameters:
        - in: query
          name: size
          type: integer
        - in: query
          name: address
          description: Get transactions by account
          type: string
        - in: query
          name: runtime
          type: boolean
          required: true
          description: Include ParaTime transactions
      responses:
        '200':
          description: Query compatibility endpoint for transactions
          schema:
            type: object
            required: ["code", "data"]
            properties:
              code:
                type: integer
              data:
                type: object
                required: ["list", "maxPage", "page", "size", "totalSize", "tags"]
                properties:
                  list:
                    type: array
                    items:
                      $ref: "#/definitions/OperationsRow"
                  page:
                    type: integer
                  size:
                    type: integer
                  maxPage:
                    type: integer
                  totalSize:
                    type: integer
      tags:
        - OperationsList
definitions:
  AccountsRow:
    properties:
      rank:
        type: integer
      address:
        type: string
      available:
        type: string
      escrow:
        type: string
      debonding:
        type: string
      total:
        type: string
      nonce:
        type: integer
      allowances:
        type: array
        items:
          type: object
    type: object
    required:
      - rank
      - address
      - available
      - escrow
      - debonding
      - total
      - nonce
      - allowances
  ValidatorRow:
    properties:
      active:
        type: boolean
        description:
          If "true", entity is part of validator set (top 110).
      balance:
        type: string
      bound:
        type: 'null'
      bounds:
        type: 'null'
      commission:
        type: number
      delegators:
        type: integer
      description:
        type: 'null'
      email:
        type: string
      entityAddress:
        type: string
      entityId:
        type: string
      escrow:
        type: string
      escrowAmountStatus:
        type: 'null'
      escrowChange24:
        type: string
      escrowPercent:
        type: number
      escrowSharesStatus:
        type: 'null'
      icon:
        type: string
      keybase:
        type: string
      name:
        type: string
      nodeAddress:
        type: string
      nodeId:
        type: string
      nodes:
        type: 'null'
      nonce:
        type: integer
      proposals:
        type: integer
      rank:
        type: integer
      rates:
        type: 'null'
      score:
        type: integer
      signs:
        type: integer
      status:
        type: boolean
        description:
          If "true", an entity has a node that is registered for being a
          validator, node is up to date, and has successfully registered itself.
          However, it may or may not be part of validator set (top 110).
      totalShares:
        type: string
      twitter:
        type: string
      uptime:
        type: string
      website:
        type: string
    type: object
    required:
    - active
    - balance
    - bound
    - bounds
    - commission
    - delegators
    - description
    - email
    - entityAddress
    - entityId
    - escrow
    - escrowAmountStatus
    - escrowChange24
    - escrowPercent
    - escrowSharesStatus
    - icon
    - keybase
    - name
    - nodeAddress
    - nodeId
    - nodes
    - nonce
    - proposals
    - rank
    - rates
    - score
    - signs
    - status
    - totalShares
    - twitter
    - uptime
    - website
  OperationsRow:
    type: object
    properties:
      txHash:
        type: string
      height:
        type: integer
      method:
        type: string
        enum:
        - staking.Transfer
        - staking.AddEscrow
        - roothash.ExecutorCommit
        - staking.ReclaimEscrow
        - staking.Allow
      fee:
        type: string
      amount:
        type: string
      shares:
        type: string
      add:
        type: boolean
      timestamp:
        type: integer
      time:
        type: integer
      status:
        type: boolean
      from:
        type: string
      to:
        type: string
      runtimeId:
        type: string
      runtimeName:
        type: string
      round:
        type: integer
      result:
        type: boolean
      type:
        type: string
    required:
    - timestamp
    - txHash
